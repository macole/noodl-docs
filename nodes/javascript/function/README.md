---
hide_title: true
hide_table_of_contents: true
title: 関数ノード
---

{/*##head##*/}

# 関数

このノードを使用すると、アプリケーションにカスタムのJavaScriptを簡単に追加できます。

JavaScriptの実行:

- 入力が更新されたとき（"Run"が何にも接続されていない場合）
- "Run"が呼び出されたとき

<div className="ndl-image-with-background l">

![](/nodes/javascript/function/function-1.png)

</div>

コードは上から下へ実行されます。
より複雑なカスタムJavaScriptを複数の実行パスと拡張された制御で使用する場合は、<span className="ndl-node">Script</span>ノードを使用する必要があります。

{/*##head##*/}

ノードを使用する最も基本的な方法は式としてであり、
入力が変更されるたびにスクリプトが実行され、出力が更新されます。
例えば、上記の例は以下のように使用できます。

<div className="ndl-image-with-background l">

![](/nodes/javascript/function/function-2.png)

</div>

## カスタム入力と出力

関数スクリプトでは**Inputs**オブジェクトと**Outputs**オブジェクトを使用でき、これらのオブジェクトのプロパティをスクリプトで使用すると、自動的に入力ポートと出力ポートが作成されます。
したがって、以下のスクリプト：

```javascript
Outputs.FullName = Inputs.FirstName + " " + Inputs.LastName;
```

出力**FullName**と入力**FirstName**と**LastName**を作成します。
別のオプションは、ノードのプロパティで入力と出力を明示的に指定することです。
これにより、入力と出力のタイプを明示的に指定できます。
これは、ノードが**Component Inputs**や**Component Outputs**に接続されている場合に特に便利です。

<div className="ndl-image-with-background">

![](/nodes/javascript/function/function-3.png)

</div>

## シグナル出力

**Function**スクリプトからシグナルを送信したい場合、値を割り当てる代わりに出力を関数として使用できます。

```javascript
if (Inputs.Test === true) {
  Outputs.TestIsTrue();
} else {
  Outputs.TestIsFalse();
}
```

上記のコードは、シグナルである2つの出力**TestIsTrue**と**TestIsFalse**を自動的に作成します。
入力が変更されてコードが実行されると、**Test**入力の内容に応じて、ノードはどちらかのシグナルを送信します。

## 制御された実行

通常、入力が変更されると、つまり
接続を介して新しいデータを受け取ると、スクリプトが実行されますが、**Run**シグナル入力を使用して関数の実行を制御することもできます。
この入力に接続がある場合、スクリプトはシグナルを受信したときにのみ実行されます。

<div className="ndl-image-with-background l">

![](/nodes/javascript/function/function-4.png)

</div>

## 入力

| データ                                             | 説明                                                                                                                                                                                         |
| ------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span className="ndl-data">スクリプト入力</span>  | ここでは、上記のように関数への入力をリストして、入力のタイプを指定できます。関数コードで指定されたり単に使用されたりする各入力に対して、ノードへの入力が作成されます。    |
| <span className="ndl-data">スクリプト出力</span> | ここでは、上記のように関数からの出力をリストして、出力のタイプを指定できます。関数コードで指定されたり単に使用されたりする各出力に対して、ノードへの入力が作成されます。 |

| シグナル                                  | 説明                                                                                                                      |
| --------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------- |
| <span className="ndl-signal">実行</span> | ここにシグナルを送信して関数を実行します。この入力に接続がある場合、入力が変更されたときには関数スクリプトは実行されません。 |

## 出力

| データ                                      | 説明                                 |
| ----------------------------------------- | ------------------------------------------- |
| <span className="ndl-data">出力</span> | 関数スクリプトで定義された出力。 |