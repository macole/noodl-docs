---
title: グルーピングとレイアウト
hide_title: true
---

import useBaseUrl from '@docusaurus/useBaseUrl'
import CopyToClipboardButton from '../../../src/components/copytoclipboardbutton';

# グルーピングとレイアウト

## このガイドで学べること

このガイドでは、視覚要素をレイアウトする方法について学びます。これは、アプリのためのレスポンシブでダイナミックなインターフェイスを作成するための重要な概念です。

Noodlでレイアウトを定義するための中心的なノードは、[Group](/nodes/basic-elements/group/)ノードです。このガイドでは、レイアウトを定義するためのGroupプロパティの中で最も重要なものを説明します。

### 概要

このガイドでは、以下のトピックを扱います：

- Groupノード
- レイアウト方向と位置
- サイズと寸法
- アライメント
- マージンとパディング
- 複数行レイアウト

## Groupノード

**Group**ノードは、レイアウトを行うための最も中心的なノードです。これは、Noodlで視覚的階層と構造を構築するための基本的な方法です。

**Group**ノードは階層構造で配置され、他のノードを子として持つことができます。それは、その子のレイアウトを制御し、**Group**ノードの子がどのようにレイアウトされるかを指定するために使用できる多数のプロパティがあります。このガイドで使用される様々なノードの例をコピーするには、「ノードをコピー」をクリックしてから、Noodlプロジェクトに貼り付けます。

<div className="ndl-image-with-background xl">
  <img src={useBaseUrl("/docs/guides/user-interfaces/layout/groups.png")} />
  <CopyToClipboardButton
    json={{
      nodes: [
        {
          id: '5a81ad6d-b8eb-16f8-e2b3-3533c0a05462',
          type: 'Group',
          label: 'Group',
          x: 176,
          y: 140.5,
          parameters: { backgroundColor: '#FFFFFF' },
          ports: [],
          children: [
            {
              id: '999f7f8b-6678-ed24-5ea9-08b25e1b394e',
              type: 'Group',
              x: 196,
              y: 186.5,
              parameters: {
                marginTop: { value: 20, unit: 'px' },
                marginLeft: { value: 20, unit: 'px' },
                marginRight: { value: 20, unit: 'px' },
                marginBottom: { value: 20, unit: 'px' },
                paddingTop: { value: 50, unit: 'px' },
                paddingLeft: { value: 50, unit: 'px' },
                paddingRight: { value: 50, unit: 'px' },
                paddingBottom: { value: 50, unit: 'px' },
                backgroundColor: '#DBDBDB',
              },
              ports: [],
              children: [
                {
                  id: 'ddde9610-f9a6-03bd-bb46-4a67d56a2180',
                  type: 'Group',
                  x: 216,
                  y: 232.5,
                  parameters: { backgroundColor: '#B5B5B5' },
                  ports: [],
                  children: [],
                },
              ],
            },
          ],
        },
      ],
      connections: [],
    }}
  />
</div>

:::tip

Noodlでマウスカーソルをノードにホバーすると、プレビューウィンドウで対応する視覚要素がハイライト表示されます。これは、レイアウトをデバッグするのに最適な方法です。例えば、ノードにホバーしてもプレビューウィンドウで見えない場合は、そのノードがゼロサイズであるか、画面外にある可能性が高いです。

:::



<div className="ndl-image-with-background xl">
    <video width="100%" autoPlay muted loop src={useBaseUrl("/docs/guides/user-interfaces/layout/hover.mp4")}/>
</div>

## レイアウト方向

デフォルトでは、**Group**ノードはその子を垂直に積み重ねます。**レイアウト**プロパティを編集することでレイアウト方向を変更できます：

<div className="ndl-image-with-background">

![](/docs/guides/user-interfaces/layout/layout-prop.png)

</div>

- `Vertical` 子は垂直に積み重ねられます。
- `Horizontal` 子は水平に積み重ねられます。
- `None` 子は積み重ねられません。マージン、x/y位置、または様々なアラインメント（以下参照）を使用して自分で配置する必要があります。

Noodlにコピーして使用できる例をこちらに示します。画像の隣にある「ノードをコピー」ボタンをクリックし、Ctrl+V（Windows）またはCmd+V（macOS）を押してNoodlに貼り付けます。プロジェクトが開いていることを確認してください。

最上位ノードの**レイアウト**を変更して、子ノードの方向がどのように変わるかを確認してください。

<div className="ndl-image-with-background xl">
  <img src={useBaseUrl("/docs/guides/user-interfaces/layout/layout-dir.png")}></img>
  <CopyToClipboardButton
    json={{
      nodes: [


        {
          id: '9f88e7d6-959c-7946-f66d-3db6257d522b',
          type: 'Group',
          label: 'Layout node',
          x: 290,
          y: 395,
          parameters: {
            sizeMode: 'explicit',
            backgroundColor: '#E6E6E6',
          },
          ports: [],
          children: [
            {
              id: '8a0b2c8c-c534-bdcc-102d-2905b48d8885',
              type: 'Group',
              x: 310,
              y: 456,
              parameters: {
                marginTop: { value: 5, unit: 'px' },
                marginLeft: { value: 5, unit: 'px' },
                marginRight: { value: 5, unit: 'px' },
                marginBottom: { value: 5, unit: 'px' },
                backgroundColor: '#C2C2C2',
                width: { value: 100, unit: 'px' },
                height: { value: 100, unit: 'px' },
              },
              ports: [],
              children: [],
            },
            {
              id: 'bcfa83ad-f05f-d7ff-13a4-f82ac19bd664',
              type: 'Group',
              x: 310,
              y: 502,
              parameters: {
                marginTop: { value: 5, unit: 'px' },
                marginLeft: { value: 5, unit: 'px' },
                marginRight: { value: 5, unit: 'px' },
                marginBottom: { value: 5, unit: 'px' },
                backgroundColor: '#C2C2C2',
                width: { value: 100, unit: 'px' },
                height: { value: 100, unit: 'px' },
              },
              ports: [],
              children: [],
            },
            {
              id: '35c2039f-5f12-3dab-bc94-a7c630aa9698',
              type: 'Group',
              x: 310,
              y: 548,
              parameters: {
                marginTop: { value: 5, unit: 'px' },
                marginLeft: { value: 5, unit: 'px' },
                marginRight: { value: 5, unit: 'px' },
                marginBottom: { value: 5, unit: 'px' },
                backgroundColor: '#C2C2C2',
                width: { value: 100, unit: 'px' },
                height: { value: 100, unit: 'px' },
              },
              ports: [],
              children: [],
            },
          ],
        },
      ],
      connections: [],
    }}
  />
</div>

## レイアウト位置

グループの子として、**位置**プロパティを設定することで、レイアウトされる方法を制御することもできます：

- `In Layout` - このノードは親ノードのレイアウトの一部です。上記で説明したように、兄弟と共に積み重ねられます。
- `Absolute` - ノードをレイアウトの流れから削除します。マージンとアライメントを使用して位置を設定します。
- `Sticky` - `In Layout`と同じように振る舞いますが、ノードが親からスクロールされようとするときに異なります。代わりに親の端に固定され、スクロールから離れません。どの端に固定されるかは、_Alignment_入力で制御できます。

<div className="ndl-image-with-background">

![](/docs/guides/user-interfaces/layout/layout-absolute.png)

</div>

## 寸法

寸法セクションでは、**Group**のサイズがどのように計算されるかを制御します。

<div className="ndl-image-with-background">

![](/nodes/ui-elements/dimensions.png)

</div>

**Group**は、その子供たちのサイズから寸法を取得することもできます。上部のアイコンを使用して、四つのモード（右から）を切り替えます：

- **明示的な幅と高さ** 幅と高さをピクセル（`px`）、親のパーセンテージ（`%`）、またはビューポートサイズのパーセンテージ（`vw`と`vh`）で明示的に指定します。
- **明示的な幅とコンテンツの高さ** 幅を明示的に指定しますが、高さは子供たちの高さとマージンの合計になります。
- **明示的な高さとコンテンツの幅** 高さを明示的に指定しますが、幅は子供たちの幅とマージンの合計になります。
- **コンテンツの幅と高さ** このグループのサイズは、レイアウトに基づいて子供たちの合計幅と高さになります。

Noodlの空のコンポーネントに以下のノードをコピーできます。右に結果が表示されます。これらのノードはそれぞれ、**寸法**アイコンの異なる設定を使用しています。

<div className="ndl-image-with-background">
  <img
    src={useBaseUrl("docs/guides/user-interfaces/layout/content-size-nodes.png")}
    className="ndl-image small"
  ></img>
  <img
    src={useBaseUrl("/docs/guides/user-interfaces/layout/content-size-example.png")}
    className="ndl-image small"
  ></img>
  <CopyToClipboardButton
    json={{
      nodes: [
        {
          id: '3aad82a0-9636-d391-b31c-06f66be77bdc',
          type: 'Group',
          x: 243,
          y: 178,
          parameters: { backgroundColor: '#FFFFFF' },
          ports: [],
          children: [
            {
              id: '61757927-9c6c-3afb-a964-1492a5ff5a90',
              type: 'Group',
              label: 'Content height',
              x: 263,
              y: 224,
              parameters: {
                sizeMode: 'contentHeight',
                backgroundColor: '#D6D6D6',
               

 marginBottom: { value: 20, unit: 'px' },
                width: { value: 100, unit: 'px' },
              },
              ports: [],
              children: [
                {
                  id: 'cefc770e-47c0-ddfd-0caa-b88831ce8e8f',
                  type: 'Circle',
                  x: 283,
                  y: 285,
                  parameters: {
                    fillColor: '#858585',
                    size: 50,
                  },
                  ports: [],
                  children: [],
                },
              ],
            },
            {
              id: 'ccdbfc6b-8138-cc99-6ffc-aaf6b5c4b56e',
              type: 'Group',
              label: 'Content size',
              x: 263,
              y: 331,
              parameters: {
                sizeMode: 'contentSize',
                backgroundColor: '#D6D6D6',
                marginBottom: { value: 20, unit: 'px' },
              },
              ports: [],
              children: [
                {
                  id: 'cef82662-86c6-43d7-5221-fa47869a5043',
                  type: 'Circle',
                  x: 283,
                  y: 392,
                  parameters: {
                    fillColor: '#858585',
                    size: 50,
                  },
                  ports: [],
                  children: [],
                },
              ],
            },
            {
              id: '000843d3-fdf9-7638-67e3-42617b66bf4f',
              type: 'Group',
              label: 'Content width',
              x: 263,
              y: 438,
              parameters: {
                sizeMode: 'contentWidth',
                backgroundColor: '#D6D6D6',
                height: { value: 100, unit: 'px' },
              },
              ports: [],
              children: [
                {
                  id: 'f94a589b-b042-9f9e-1d2f-0599a5fe2f41',
                  type: 'Circle',
                  x: 283,
                  y: 499,
                  parameters: {
                    fillColor: '#858585',
                    size: 50,
                  },
                  ports: [],
                  children: [],
                },
              ],
            },
          ],
        },
      ],
      connections: [],
    }}
  />
</div>

### 固定寸法

`%`で指定されたサイズには、追加の動的サイズルールセットが有効になります。

- グループは親を埋めるように拡大します。空間は兄弟と共有され、`%`の値は各ノードが残りの空間をどの程度得るかを制御します。
- グループのコンテンツがグループ自体よりも大きい場合、子を含むように拡大します。

この動的サイズは、_Fixed_を有効にすることで無効にできます。

ここでは、2つのグループの例を示します。それぞれが100%の高さに設定されています。_Fixed_が無効になっていると、それぞれが親と同じサイズに成長しようとします。上述のルールが示唆するように、最終的なグループのサイズは50%になり、両方のグループが画面に表示され、同等のスペースを持つようになります。

_Fixed_を有効にすると、グループが指定されたサイズに正確になり、動的サイズが無効になります。_Fixed_が有効になっている場合、最初のグループは画面全体を覆い、2番目のグループにはスペースが残らず、画面外に押し出されます。

<div className="ndl-image-with-background">

![](/docs/guides/user-interfaces/layout/fixed-height.gif)

</div>

### コンテンツのクリップ

`%`で設定された寸法のグループは、少なくともそのコンテンツと同じサイズに拡大します。
これは、`Fixed`を有効にするか、この例のように、`Clip content`を有効にすることで変更できます。

<div className="ndl-image-with-background">

![](/docs/guides/user-interfaces/layout/clip.gif)

</div>

## アライメント

親ノードのアライメント設定を上書きするために、子はア

ライメントコントロールを使用できます。

<div className="ndl-image-with-background">

![](/docs/guides/user-interfaces/layout/align-props.png)

</div>

子は、マージンを使用して、アライメントされた位置からオフセットすることができます。

<div className="ndl-image-with-background l">
  <img src={useBaseUrl("/docs/guides/user-interfaces/layout/align.gif")}></img>
  <CopyToClipboardButton
    json={{
      nodes: [
        {
          id: '8a968ff3-9099-fc23-eaef-b3f3c2f8a271',
          type: 'Group',
          label: 'Layout None',
          x: -124.8300537163023,
          y: 231.19983547495616,
          parameters: {
            backgroundColor: '#FFFFFF',
            flexDirection: 'none',
          },
          ports: [],
          children: [
            {
              id: '6c2df5ce-7596-06da-a5c5-335275501d64',
              type: 'Circle',
              x: -104.8300537163023,
              y: 292.19983547495616,
              parameters: {
                fillColor: '#C9C9C9',
                alignY: 'top',
                alignX: 'left',
              },
              ports: [],
              children: [],
            },
          ],
        },
      ],
      connections: [],
    }}
  />
</div>

## マージンとパディング

ノードをクリックすると、選択されてプロパティパネルが開きます。このパネルには、マージンとパディングを設定するためのコントロールがあります。

<div className="ndl-image-with-background">

![](/docs/guides/user-interfaces/layout/margin-and-padding-props.png)

</div>

ここでは、_マージン_を指定できます。これは、このノードとその兄弟との間の距離です。すべての方向でマージンを指定できます。また、_パディング_も指定できます。これは、**Group**の境界からその子供たちまでの距離です。

この単純な階層の3つのノードを調整して調べることで、これらの概念を学ぶことができます。パディングとマージンを変更してみて、それらの違いを確認してください。

## 複数行

子ノードが親の境界を超える場合、折り返しまたはスクロールによって挙動を制御するオプションがいくつかあります。このセクションでは、使用可能な折り返しオプションについて説明します。

折り返しは、プロパティの**Multi Line Wrap**オプションで制御されます。

<div className="ndl-image-with-background">

![](/docs/guides/user-interfaces/layout/wrap.png)

</div>

これらのオプションから選択できます：

- `Off` 子は親ノードの境界を超えて拡張されます（デフォルト）。
- `On` 子は複数行に配置されます。
- `On Reverse` 子は逆方向に折り返されます。

ここでは、**Multi Line Wrap**が`On`に設定された水平レイアウトの例を示します。

<div className="ndl-image-with-background l">
  <img src={useBaseUrl("/docs/guides/user-interfaces/layout/multi-line.gif")}></img>
  <CopyToClipboardButton
    json={{
      nodes: [
        {
          id: '4ea33114-1bd2-d35a-79b6-9c6daf4ba473',
          type: 'Group',
          x: 198.0,
          y: 196.0,
          parameters: {
            backgroundColor: '#D6D6D6',
            flexDirection: 'row',
            flexWrap: 'wrap',
          },
          children: [
            {
              id: 'beeb24c5-2bf0-ca33-62ce-b448a10f1b09',
              type: 'Circle',
              x: 218.0,
              y: 242.0,
              parameters: { fillColor: '#858585' },
            },
            {
              id: '1742b597-6ee5-dd00-0781-ec3c368b9bdc',
              type: 'Circle',
              x: 218.0,
              y: 288.0,
              parameters: { fillColor: '#858585' },
            },
            {
              id: 'e4fc4976-3c13-4a5d-701c-ef3a72eb17b5',
              type: 'Circle',
              x: 218.0,
              y: 334.0,
              parameters: { fillColor:

 '#858585' },
            },
            {
              id: '37441ff4-81ac-47ac-2882-8d3f5a4151b4',
              type: 'Circle',
              x: 251.53808416795107,
              y: 210.45256017010956,
              parameters: { fillColor: '#858585' },
            },
            {
              id: '4d7a3378-7b80-1f6d-c0cd-285360f291f6',
              type: 'Circle',
              x: 251.53808416795107,
              y: 256.45256017010956,
              parameters: { fillColor: '#858585' },
            },
            {
              id: 'b1a7b659-7519-e8ea-f4f5-96bba6954b81',
              type: 'Circle',
              x: 251.53808416795107,
              y: 302.45256017010956,
              parameters: { fillColor: '#858585' },
            },
          ],
        },
      ],
    }}
  />
</div>